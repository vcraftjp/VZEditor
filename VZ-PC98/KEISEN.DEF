======== keisen.def ì•\ƒ}ƒNƒ (98Œrüv1.02) ========
;
;yì•\ƒ}ƒNƒ‚Ì‘€ì•û–@z
;
; [ESC]H	:ì•\ƒƒjƒ…[
;
;E‚Ü‚¸AwD ŠO˜g‚Ì•`‰æxƒƒjƒ…[‚ğ‘I‘ğ‚µAƒJ[ƒ\ƒ‹ˆÊ’u‚Éw’è‚ÌƒTƒCƒY‚ÌŠO˜g‚ğ
;@‘‚«‚Ü‚·B
;EŠO˜g‚ğ‘‚«I‚í‚é‚ÆAÅ‰ºs‚Ésì•\ kŒrü%clt‚Æ•\¦‚³‚êAì•\ƒ‚[ƒh‚É“ü‚è
;@‚Ü‚·B
;Eì•\ƒ‚[ƒh‚Å‚ÍA’Êí‚Ì•ÒWƒRƒ}ƒ“ƒh‚Ìˆê•”‚ğAì•\—p‚ÌƒRƒ}ƒ“ƒh‚É’u‚«Š·‚¦‚Ü‚·B
;
;	[CR] 		:Œrüˆø‚­^Á‚·iƒJ[ƒ\ƒ‹‚ªã˜g^¶˜gã‚Ìj
;	^F,^A		:‰¡•ûŒüŠg‘å^k¬iƒJ[ƒ\ƒ‹‚ªã˜gã‚Ìj
;	^C,^R		:c•ûŒüŠg‘å^k¬iƒJ[ƒ\ƒ‹‚ª¶˜gã‚Ìj
;
;E‚Ü‚½A•\‚Ì“à•”‚Å•¶š‚ğ‘‚¢‚½‚èA•¶š‚ğíœ‚µ‚Ä‚àA‰E˜g‚ÌˆÊ’u‚Í‚¸‚ê‚Ü‚¹‚ñB
;@‚½‚¾‚µA‹éŒ`ƒuƒƒbƒNƒRƒ}ƒ“ƒh“™‚Å•\‚Ì“à•”‚É•¶š—ñ‚ğƒRƒs[‚µ‚½ê‡‚ÍA
;@‰E˜g‚ÌˆÊ’u‚Í‚¸‚ê‚Ä‚µ‚Ü‚¢‚Ü‚·B
;Eì•\ƒ‚[ƒh‚ğI—¹‚·‚éê‡‚ÍA[ESC]H ‚Åì•\ƒƒjƒ…[‚ğ•\¦‚µ‚ÄAwQ I—¹x‚ğ
;@‘I‘ğ‚µ‚Ä‚­‚¾‚³‚¢B
;EŠù‘¶‚Ì•\‚Åì•\‚ğs‚È‚¤ê‡‚ÍA•\‚Ì¶ãi†®j‚ÉƒJ[ƒ\ƒ‹‚ğˆÚ“®‚µA[ESC]H ‚Å
;@ƒƒjƒ…[‚ğ•\¦‚µAwE ì•\ƒ‚[ƒh‚Öx‚ğ‘I‘ğ‚µ‚Ä‚­‚¾‚³‚¢B
;EAwS Œrü [†¢]xƒƒjƒ…[‚ÅŒrü‚Ìí—Ş‚ğ•ÏX‚Å‚«‚Ü‚·B
;
;š’ˆÓš@•\‚Ì’¼Œã‚ÍA‚Ps‹ó‚¯‚Ä‹ó”’s‚É‚µ‚Ä‚¨‚©‚È‚¯‚ê‚ÎA³í‚É“®ì‚µ‚Ü‚¹‚ñB


* M ƒ}ƒNƒ

70 [ESC]H "ì•\ƒƒjƒ…["
	?.
	(mm)? &q
	pp="†¢",
:A	t=pp.1&1,
	!01
	(r)>?{				; ì•\ƒƒjƒ…[‚Å•ªŠò
		>20
		>10
		{ pp.1^=1, >A }
		{ mm-,&m("ì•\I—¹") / }
	}
	(mm)? >20 /

;--- ŠO˜g•`‰æ ---

10:	xx=lx,
	&g("‰¡•:") (r<0)? .  u=r&1~,
	&g("c•:") (r<0)? >^ v=r,
	(u+4>=wd)?{ wd=u+lx+5, &d }
	mi[, ei[, mi-, ei+,
	(ct)??{ #n #n }			; <-- v1.02
	#l (t)? >A
		'†®' (u/2){'†¢'} '†²' >B
:A		'†±' (u/2){'†£'} '†µ'
:B	(v)?? >D
	#m (t)?'†¥'?'†¤' (u){' '} (t)?'†¥'?'†¤'
	(v<2)? >D
	#k (v==2)? >C
	(v-2){ #p #x }
:C	#i #x
:D	#m (t)? >E
		'†¶' (u/2){'†¢'} '†º' >F
:E		'†¹' (u/2){'†£'} '†½'
:F	ei], mi],
	>>

;--- ‰Šú‰» ---

20:	mm+, &m("ì•\ kŒrü%cl", '†¢'+t)
	x=lx, #> uu=lx, &x(x)		; ƒJ[ƒ\ƒ‹ˆÊ’u‚Ì•\‚Ì‰¡•‚ğ‹‚ß‚é
	p="†¾†¿†Â†Å†Î†Ñ†Ò†Õ†Æ†Ç†Ê†Í†Ö†Ù†Ú†İ†Ş†á†ä†í†¤†¥†¢†£†®†±†²†µ†¶†¹†º†½",
	>>

;--- ‚P•¶š“ü—Í ---

30:	&p (c=r)(s)? >N			; •ÒWƒ‚[ƒh‚Å‚È‚¯‚ê‚ÎƒXƒLƒbƒv
	(c<$FF)?{ &40 >^ }		; •¶š‚Ì“ü—Í
	(c==#m)?{ &50 >^}		; [CR]
	(c==#f || c==#a)?{ &60 >^ }	; ^F,^A i¨©ƒTƒCƒY•ÏXj
	(c==#c || c==#r)?{ &65 >^ }	; ^C,^R i«ªƒTƒCƒY•ÏXj
	(c>=#h && c<#@ )?{ &40 >^ }	; s‚Ì•ÒWƒRƒ}ƒ“ƒh
	(c==#i || c==#p)?{ &40 >^ }	; ƒuƒƒbƒN‚Ìƒy[ƒXƒg
:N	&o(c) >^

;--- Œrü•Û‘¶ ---

40:	(cd&1~!='„ ')??.		; <-- v1.01
	&s &o(c)
	x=lx, #> xx=lx, #s d=cd&1~, &x(x)
	(d=='†¤')?{ (d=xx-uu)? >A } >Z
:A	(cd&1~!='†¤')?{ #d (lx<xx)? >A >Z }
	(d>0)?{ (d){ #h } >B } (-d){' '} :B &x(x)
:Z	#?

;--- Œrü•`‰æ^Á‹ ---

09: 	&o(c)

05:	&f(cd,p) n=r,

06:	a+=t,a=p..a,&o(a!!)

50:	&05
	(n<0)? >09
	(n>=24)? >09
	(n>=22)? >55
	(n>=20)? >51
	(n<4)?{ #y . }
	(n<8)? >56 >09

;--- ƒˆƒRŒrü ---

51:	&s i=0,
:A	#e i++,&f(cd,"†¤†¥†¾†¿†Â†Å") (r>=0)? >A
	#k (i){#x} #i
	mi[,mi+,a=n<<1&2,&06
:B	&05
	(n<0)? >D
	(n>=26)?{ a=n<<1&2+8, &06 >C }
	(n>=22)?{ &o('†¢'+t) >C }
	a=n&2+16, &06
:C	(n<26)? >B
:D	mi], #a #?

;--- ƒ^ƒeŒrü ---

07:	a+=t*2, a=p..a, &o(a!!) #s #x

55:	&s mi[, mi+,
	a=n&1+4, &07
	i=0,
:A	i++, (cd==$0D)? >B
	c=cd&1,(cd&1~!='†¢')??{ a=c+16, &07 >A }
	(ck)?? #g &o('†¤'+t) #s #x >A
:B	#e a=c+12, &07 >70

56:	&s mi[, mi+,
	i=0,
:A	i++, &05
	(n<20)?{ &o('†¢'+n&1) #s #x (n&3~!=12)? >A >70 }
	' 'mi-,' ' mi+, #s #s #x >A

;--- Šg‘å^k¬ ---

60:	uu+=2, (c==#a)? (uu-=4)
	(cd&1~!='†¢')? >09
	&s mi[, mi-,
	i=0,
:A	(cd==$0D)? >70 i++,
	(c==#a)?{ #g (ck)?? #g >B }
	&o(cd) #s (ck)??{ &o(cd) #s }
:B	#x >A

65:	(cd&1~!='†¤')? >09 (c==#c)?{ #k #i }? #y

70:	mi], (i){ #e } &d


* Pop up menu

1	"",12,4
	"E ì•\ƒ‚[ƒh‚Ö"
	"D ŠO˜g‚Ì•`‰æ"
	"S Œrü [$pp]"
	"Q I—¹"

*
======== End of keisen.def ========
